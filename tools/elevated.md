# 提权模式 (Elevated Mode)

提权模式允许 Agent 绕过沙箱，直接在运行网关的**宿主机**上执行命令。这是一个高权限操作，需谨慎使用。

## 提权级别 (Directives)
你可以通过指令实时切换提权状态：
- **/elevated on** (或 \`ask\`)：切换到宿主机执行，但执行敏感命令时仍需你手动点击“允许”。
- **/elevated full**：切换到宿主机执行，且**跳过所有审批**。这是最危险的模式。
- **/elevated off**：切回沙箱模式（默认）。

## 生效范围
- **单条生效**：在消息正文中包含 \`/elevated full\`，提权仅对该条消息产生的工具调用有效。
- **会话持久生效**：单独发送一条 \`/elevated full\` 消息，该会话之后的所有操作都会处于提权状态。

## 安全准则
1. **默认禁用**：只有在 \`tools.elevated.allowFrom\` 中列出的用户 ID 才能触发提权。
2. **三思后行**：除非你需要让 Agent 帮你配置服务器环境或进行系统级运维，否则请保持在沙箱中运行。
3. **模型依赖**：如果 Agent 的 \`exec\` 工具被全局禁用（\`tools.deny\`），则提权模式也无法生效。

## 状态查询
发送 \`/status\` 或单独的 \`/elevated\` 即可查看当前会话是否处于提权状态。
